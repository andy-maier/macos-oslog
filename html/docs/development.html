<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Development &mdash; macos-oslog 0.5.0.dev1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Appendix" href="appendix.html" />
    <link rel="prev" title="2. Usage" href="usage.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> macos-oslog
          </a>
              <div class="version">
                0.5.0.dev1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#supported-environments">1.1. Supported environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing">1.2. Installing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">2. Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#overview">2.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#log-class">2.2. Log class</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#log-related-functions">2.3. Log related functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#log-levels">2.4. Log levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#standard-log-objects">2.5. Standard log objects</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#repository">3.1. Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-development-environment">3.2. Setting up the development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-documentation">3.3. Building the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">3.4. Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contributing">3.5. Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#releasing-a-version-to-pypi">3.6. Releasing a version to PyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-a-new-version">3.7. Starting a new version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">4. Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#references">4.1. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">5. Change log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changes.html#macos-oslog-0-5-0-dev1">5.1. macos_oslog 0.5.0.dev1</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">macos-oslog</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li><span class="section-number">3. </span>Development</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/docs/development.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="development">
<span id="id1"></span><h1><span class="section-number">3. </span>Development<a class="headerlink" href="#development" title="Permalink to this heading"></a></h1>
<p>This section only needs to be read by developers of the
macos-oslog project,
including people who want to make a fix or want to test the project.</p>
<section id="repository">
<span id="id2"></span><h2><span class="section-number">3.1. </span>Repository<a class="headerlink" href="#repository" title="Permalink to this heading"></a></h2>
<p>The repository for the macos-oslog project is on GitHub:</p>
<p><a class="reference external" href="https://github.com/andy-maier/macos-oslog">https://github.com/andy-maier/macos-oslog</a></p>
</section>
<section id="setting-up-the-development-environment">
<span id="id3"></span><h2><span class="section-number">3.2. </span>Setting up the development environment<a class="headerlink" href="#setting-up-the-development-environment" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>If you have write access to the Git repo of this project, clone it using
its SSH link, and switch to its working directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:andy-maier/macos-oslog.git
$ <span class="nb">cd</span> macos-oslog
</pre></div>
</div>
<p>If you do not have write access, create a fork on GitHub and clone the
fork in the way shown above.</p>
</li>
<li><p>It is recommended that you set up a <a class="reference external" href="https://docs.python-guide.org/en/latest/dev/virtualenvs/">virtual Python environment</a>.
Have the virtual Python environment active for all remaining steps.</p></li>
<li><p>Install the project for development.
This will install Python packages into the active Python environment,
and OS-level packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make develop
</pre></div>
</div>
</li>
<li><p>This project uses Make to do things in the currently active Python
environment. The command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make
</pre></div>
</div>
<p>displays a list of valid Make targets and a short description of what each
target does.</p>
</li>
</ol>
</section>
<section id="building-the-documentation">
<span id="id4"></span><h2><span class="section-number">3.3. </span>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this heading"></a></h2>
<p>The GitHub pages site of the repo is used to publish the documentation for the
project package at <a class="reference external" href="https://andy-maier.github.io/macos-oslog/">https://andy-maier.github.io/macos-oslog/</a></p>
<p>This page is automatically updated whenever the Git repo for this package
changes the branch from which this documentation is built.</p>
<p>In order to build the documentation locally from the Git work directory,
execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make builddoc
</pre></div>
</div>
<p>The top-level document to open with a web browser will be
<code class="docutils literal notranslate"><span class="pre">build_doc/html/docs/index.html</span></code>.</p>
<span class="target" id="testing"></span></section>
<section id="id5">
<h2><span class="section-number">3.4. </span>Testing<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h2>
<p>All of the following <cite>make</cite> commands run the tests in the currently active
Python environment.
Depending on how the <cite>macos_oslog</cite> package is installed in
that Python environment, either the directories in the main repository
directory are used, or the installed package.
The test case files and any utility functions they use are always used from
the <cite>tests</cite> directory in the main repository directory.</p>
<p>The <cite>tests</cite> directory has the following subdirectory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tests</span>
 <span class="o">+--</span> <span class="n">unittest</span>            <span class="n">Unit</span> <span class="n">tests</span>
</pre></div>
</div>
<p>There are multiple types of tests:</p>
<ol class="arabic">
<li><p>Unit tests</p>
<p>These tests can be run standalone, and the tests validate their results
automatically.</p>
<p>They are run by executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ make <span class="nb">test</span>
</pre></div>
</div>
<p>Test execution can be modified by a number of environment variables, as
documented in the make help (execute <cite>make help</cite>).</p>
<p>An alternative that does not depend on the makefile and thus can be executed
from the source distribution archive, is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./setup.py <span class="nb">test</span>
</pre></div>
</div>
<p>Options for pytest can be passed using the <code class="docutils literal notranslate"><span class="pre">--pytest-options</span></code> option.</p>
</li>
</ol>
<p>To run the unit tests in all supported Python environments, the
Tox tool can be used. It creates the necessary virtual Python environments and
executes <cite>make test</cite> (i.e. the unit tests) in each of them.</p>
<p>For running Tox, it does not matter which Python environment is currently
active, as long as the Python <cite>tox</cite> package is installed in it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tox                              <span class="c1"># Run tests on all supported Python versions</span>
$ tox -e py27                      <span class="c1"># Run tests on Python 2.7</span>
</pre></div>
</div>
</section>
<section id="contributing">
<span id="id6"></span><h2><span class="section-number">3.5. </span>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading"></a></h2>
<p>Third party contributions to this project are welcome!</p>
<p>In order to contribute, create a <a class="reference external" href="https://help.github.com/articles/using-pull-requests/">Git pull request</a>, considering this:</p>
<ul class="simple">
<li><p>Test is required.</p></li>
<li><p>Each commit should only contain one “logical” change.</p></li>
<li><p>A “logical” change should be put into one commit, and not split over multiple
commits.</p></li>
<li><p>Large new features should be split into stages.</p></li>
<li><p>The commit message should not only summarize what you have done, but explain
why the change is useful.</p></li>
</ul>
<p>What comprises a “logical” change is subject to sound judgement. Sometimes, it
makes sense to produce a set of commits for a feature (even if not large).
For example, a first commit may introduce a (presumably) compatible API change
without exploitation of that feature. With only this commit applied, it should
be demonstrable that everything is still working as before. The next commit may
be the exploitation of the feature in other components.</p>
<p>For further discussion of good and bad practices regarding commits, see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.openstack.org/wiki/GitCommitMessages">OpenStack Git Commit Good Practice</a></p></li>
<li><p><a class="reference external" href="https://www.kernel.org/doc/Documentation/SubmittingPatches">How to Get Your Change Into the Linux Kernel</a></p></li>
</ul>
<p>Further rules:</p>
<ul class="simple">
<li><p>The following long-lived branches exist and should be used as targets for
pull requests:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">master</span></code> - for next functional version</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stable_$MN</span></code> - for fix stream of released version M.N.</p></li>
</ul>
</li>
<li><p>We use topic branches for everything!</p>
<ul>
<li><p>Based upon the intended long-lived branch, if no dependencies</p></li>
<li><p>Based upon an earlier topic branch, in case of dependencies</p></li>
<li><p>It is valid to rebase topic branches and force-push them.</p></li>
</ul>
</li>
<li><p>We use pull requests to review the branches.</p>
<ul>
<li><p>Use the correct long-lived branch (e.g. <code class="docutils literal notranslate"><span class="pre">master</span></code> or <code class="docutils literal notranslate"><span class="pre">stable_0.2</span></code>) as a
merge target.</p></li>
<li><p>Review happens as comments on the pull requests.</p></li>
<li><p>At least one approval is required for merging.</p></li>
</ul>
</li>
<li><p>GitHub meanwhile offers different ways to merge pull requests. We merge pull
requests by rebasing the commit from the pull request.</p></li>
</ul>
</section>
<section id="releasing-a-version-to-pypi">
<h2><span class="section-number">3.6. </span>Releasing a version to PyPI<a class="headerlink" href="#releasing-a-version-to-pypi" title="Permalink to this heading"></a></h2>
<p>This section describes how to release a version of macos-oslog
to PyPI.</p>
<p>It covers all variants of versions that can be released:</p>
<ul class="simple">
<li><p>Releasing a new major version (Mnew.0.0) based on the master branch</p></li>
<li><p>Releasing a new minor version (M.Nnew.0) based on the master branch</p></li>
<li><p>Releasing a new update version (M.N.Unew) based on the stable branch of its
minor version</p></li>
</ul>
<p>The description assumes that the <cite>andy-maier/macos-oslog</cite>
Github repo is cloned locally and its upstream repo is assumed to have the Git
remote name <cite>origin</cite>.</p>
<p>Any commands in the following steps are executed in the main directory of your
local clone of the <cite>andy-maier/macos-oslog</cite>
Git repo.</p>
<ol class="arabic">
<li><p>Set shell variables for the version that is being released and the branch
it is based on:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MNU</span></code> - Full version M.N.U that is being released</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MN</span></code> - Major and minor version M.N of that full version</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BRANCH</span></code> - Name of the branch the version that is being released is
based on</p></li>
</ul>
<p>When releasing a new major version (e.g. <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>) based on the master
branch:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">1</span>.0.0
<span class="nv">MN</span><span class="o">=</span><span class="m">1</span>.0
<span class="nv">BRANCH</span><span class="o">=</span>master
</pre></div>
</div>
<p>When releasing a new minor version (e.g. <code class="docutils literal notranslate"><span class="pre">0.9.0</span></code>) based on the master
branch:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">0</span>.9.0
<span class="nv">MN</span><span class="o">=</span><span class="m">0</span>.9
<span class="nv">BRANCH</span><span class="o">=</span>master
</pre></div>
</div>
<p>When releasing a new update version (e.g. <code class="docutils literal notranslate"><span class="pre">0.8.1</span></code>) based on the stable
branch of its minor version:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">0</span>.8.1
<span class="nv">MN</span><span class="o">=</span><span class="m">0</span>.8
<span class="nv">BRANCH</span><span class="o">=</span>stable_<span class="si">${</span><span class="nv">MN</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>Create a topic branch for the version that is being released:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git checkout <span class="si">${</span><span class="nv">BRANCH</span><span class="si">}</span>
git pull
git checkout -b release_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>Edit the version file:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>vi src/macos_oslog.c
</pre></div>
</div>
<p>and set the <code class="docutils literal notranslate"><span class="pre">__version__</span></code> variable to the version that is being released:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">__version__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;M.N.U&quot;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Edit the change log:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>vi docs/changes.rst
</pre></div>
</div>
<p>and make the following changes in the section of the version that is being
released:</p>
<ul class="simple">
<li><p>Finalize the version.</p></li>
<li><p>Change the release date to today’s date.</p></li>
<li><p>Make sure that all changes are described.</p></li>
<li><p>Make sure the items shown in the change log are relevant for and
understandable by users.</p></li>
<li><p>In the “Known issues” list item, remove the link to the issue tracker and
add text for any known issues you want users to know about.</p></li>
<li><p>Remove all empty list items.</p></li>
</ul>
</li>
<li><p>When releasing based on the master branch, edit the GitHub workflow file
<code class="docutils literal notranslate"><span class="pre">test.yml</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>vi .github/workflows/test.yml
</pre></div>
</div>
<p>and in the <code class="docutils literal notranslate"><span class="pre">on</span></code> section, increase the version of the <code class="docutils literal notranslate"><span class="pre">stable_*</span></code> branch
to the new stable branch <code class="docutils literal notranslate"><span class="pre">stable_M.N</span></code> created earlier:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">on</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">schedule</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">. . .</span><span class="w"></span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">master</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">stable_M.N</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">master</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">stable_M.N</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Commit your changes and push the topic branch to the remote repo:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git status  <span class="c1"># Double check the changed files</span>
git commit -asm <span class="s2">&quot;Release </span><span class="si">${</span><span class="nv">MNU</span><span class="si">}</span><span class="s2">&quot;</span>
git push --set-upstream origin release_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>On GitHub, create a Pull Request for branch <code class="docutils literal notranslate"><span class="pre">release_M.N.U</span></code>. This will
trigger the CI runs.</p>
<p>Important: When creating Pull Requests, GitHub by default targets the
<code class="docutils literal notranslate"><span class="pre">master</span></code> branch. When releasing based on a stable branch, you need to
change the target branch of the Pull Request to <code class="docutils literal notranslate"><span class="pre">stable_M.N</span></code>.</p>
</li>
<li><p>On GitHub, close milestone <code class="docutils literal notranslate"><span class="pre">M.N.U</span></code>.</p></li>
<li><p>On GitHub, once the checks for the Pull Request for branch <code class="docutils literal notranslate"><span class="pre">start_M.N.U</span></code>
have succeeded, merge the Pull Request (no review is needed). This
automatically deletes the branch on GitHub.</p></li>
<li><p>Add a new tag for the version that is being released and push it to
the remote repo. Clean up the local repo:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git checkout <span class="si">${</span><span class="nv">BRANCH</span><span class="si">}</span>
git pull
git tag -f <span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
git push -f --tags
git branch -d release_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>When releasing based on the master branch, create and push a new stable
branch for the same minor version:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git checkout -b stable_<span class="si">${</span><span class="nv">MN</span><span class="si">}</span>
git push --set-upstream origin stable_<span class="si">${</span><span class="nv">MN</span><span class="si">}</span>
git checkout <span class="si">${</span><span class="nv">BRANCH</span><span class="si">}</span>
</pre></div>
</div>
<p>Note that no GitHub Pull Request is created for any <code class="docutils literal notranslate"><span class="pre">stable_*</span></code> branch.</p>
</li>
<li><p>On GitHub, edit the new tag <code class="docutils literal notranslate"><span class="pre">M.N.U</span></code>, and create a release description on
it. This will cause it to appear in the Release tab.</p>
<p>You can see the tags in GitHub via Code -&gt; Releases -&gt; Tags.</p>
</li>
<li><p>Upload the package to PyPI:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make upload
</pre></div>
</div>
<p>This will show the package version and will ask for confirmation.</p>
<p><strong>Attention!</strong> This only works once for each version. You cannot release
the same version twice to PyPI.</p>
<p>Verify that the released version arrived on PyPI at
<a class="reference external" href="https://pypi.python.org/pypi/macos-oslog/">https://pypi.python.org/pypi/macos-oslog/</a></p>
</li>
</ol>
</section>
<section id="starting-a-new-version">
<h2><span class="section-number">3.7. </span>Starting a new version<a class="headerlink" href="#starting-a-new-version" title="Permalink to this heading"></a></h2>
<p>This section shows the steps for starting development of a new version of the
macos-oslog project in its Git repo.</p>
<p>This section covers all variants of new versions:</p>
<ul class="simple">
<li><p>Starting a new major version (Mnew.0.0) based on the master branch</p></li>
<li><p>Starting a new minor version (M.Nnew.0) based on the master branch</p></li>
<li><p>Starting a new update version (M.N.Unew) based on the stable branch of its
minor version</p></li>
</ul>
<p>The description assumes that the <cite>andy-maier/macos-oslog</cite>
Github repo is cloned locally and its upstream repo is assumed to have the Git
remote name <cite>origin</cite>.</p>
<p>Any commands in the following steps are executed in the main directory of your
local clone of the <cite>andy-maier/macos-oslog</cite>
Git repo.</p>
<ol class="arabic">
<li><p>Set shell variables for the version that is being started and the branch it
is based on:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MNU</span></code> - Full version M.N.U that is being started</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MN</span></code> - Major and minor version M.N of that full version</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BRANCH</span></code> -  Name of the branch the version that is being started is
based on</p></li>
</ul>
<p>When starting a new major version (e.g. <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>) based on the master
branch:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">1</span>.0.0
<span class="nv">MN</span><span class="o">=</span><span class="m">1</span>.0
<span class="nv">BRANCH</span><span class="o">=</span>master
</pre></div>
</div>
<p>When starting a new minor version (e.g. <code class="docutils literal notranslate"><span class="pre">0.9.0</span></code>) based on the master
branch:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">0</span>.9.0
<span class="nv">MN</span><span class="o">=</span><span class="m">0</span>.9
<span class="nv">BRANCH</span><span class="o">=</span>master
</pre></div>
</div>
<p>When starting a new minor version (e.g. <code class="docutils literal notranslate"><span class="pre">0.8.1</span></code>) based on the stable
branch of its minor version:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">MNU</span><span class="o">=</span><span class="m">0</span>.8.1
<span class="nv">MN</span><span class="o">=</span><span class="m">0</span>.8
<span class="nv">BRANCH</span><span class="o">=</span>stable_<span class="si">${</span><span class="nv">MN</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>Create a topic branch for the version that is being started:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git checkout <span class="si">${</span><span class="nv">BRANCH</span><span class="si">}</span>
git pull
git checkout -b start_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>Edit the version file:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>vi macos_oslog/_version.py
</pre></div>
</div>
<p>and update the version to a draft version of the version that is being
started:</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">__version__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;M.N.U.dev1&quot;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>Edit the change log:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>vi docs/changes.rst
</pre></div>
</div>
<p>and insert the following section before the top-most section:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="gh">macos_oslog M.N.U.dev1</span>
<span class="gh">----------------------------</span>

This version contains all fixes up to version M.N-1.x.

Released: not yet

<span class="gs">**Incompatible changes:**</span>

<span class="gs">**Deprecations:**</span>

<span class="gs">**Bug fixes:**</span>

<span class="gs">**Enhancements:**</span>

<span class="gs">**Cleanup:**</span>

<span class="gs">**Known issues:**</span>

<span class="m">*</span> See <span class="s">`list of open issues`_</span>.

<span class="p">..</span> <span class="nt">_`list of open issues`:</span> https://github.com/andy-maier/macos-oslog/issues
</pre></div>
</div>
</li>
<li><p>Commit your changes and push them to the remote repo:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git status  <span class="c1"># Double check the changed files</span>
git commit -asm <span class="s2">&quot;Start </span><span class="si">${</span><span class="nv">MNU</span><span class="si">}</span><span class="s2">&quot;</span>
git push --set-upstream origin start_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
<li><p>On GitHub, create a Pull Request for branch <code class="docutils literal notranslate"><span class="pre">start_M.N.U</span></code>.</p>
<p>Important: When creating Pull Requests, GitHub by default targets the
<code class="docutils literal notranslate"><span class="pre">master</span></code> branch. When starting a version based on a stable branch, you
need to change the target branch of the Pull Request to <code class="docutils literal notranslate"><span class="pre">stable_M.N</span></code>.</p>
</li>
<li><p>On GitHub, create a milestone for the new version <code class="docutils literal notranslate"><span class="pre">M.N.U</span></code>.</p>
<p>You can create a milestone in GitHub via Issues -&gt; Milestones -&gt; New
Milestone.</p>
</li>
<li><p>On GitHub, go through all open issues and pull requests that still have
milestones for previous releases set, and either set them to the new
milestone, or to have no milestone.</p></li>
<li><p>On GitHub, once the checks for the Pull Request for branch <code class="docutils literal notranslate"><span class="pre">start_M.N.U</span></code>
have succeeded, merge the Pull Request (no review is needed). This
automatically deletes the branch on GitHub.</p></li>
<li><p>Update and clean up the local repo:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>git checkout <span class="si">${</span><span class="nv">BRANCH</span><span class="si">}</span>
git pull
git branch -d start_<span class="si">${</span><span class="nv">MNU</span><span class="si">}</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="usage.html" class="btn btn-neutral float-left" title="2. Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="appendix.html" class="btn btn-neutral float-right" title="4. Appendix" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Copyright 2022 Andreas Maier. All Rights Reserved..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>